# üö® –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –∞–¥—Ä–µ—Å–∞

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–µ `fit` –≤ –æ—Ç–≤–µ—Ç–µ API –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–¥—Ä–µ—Å–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ `fit: false`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞–¥—Ä–µ—Å –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `getCorrectCity()` —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç API
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ–ª–µ `fit` –≤ –æ—Ç–≤–µ—Ç–µ
- –ï—Å–ª–∏ `fit: false`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### 2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API**
```json
{
    "address_data": {
        "address": "Parterre, 1601, Elm Street, West End Historic District, Downtown PID, Dallas, Dallas County, Texas, 75201, United States",
        "data": {
            "city": "Dallas",
            "state": "Texas",
            "country": "United States"
        },
        "nearest_cities": [
            {
                "distance": 0.3957777816523328,
                "name": "Dallas",
                "team": "A"
            }
        ]
    },
    "fit": false,
    "nearest_team": "A"
}
```

### 3. **–õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- `fit: false` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `fit: true` ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- `nearest_team` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### `AddressFitNotification`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞
- –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –∞–¥—Ä–µ—Å–∞
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ Store
```typescript
addressFitNotification: {
    isVisible: boolean;
    message: string;
    nearestTeam: string;
    address: string;
    orderId?: string; // ID —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    phoneNumber?: string; // –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
} | null;
```

## –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 1. **–ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –∑–∞–∫–∞–∑**
- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–¥–∞—Ç—å –≤ –±—É—Ñ–µ—Ä" - –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –∫–æ–º–∞–Ω–¥–µ `nearest_team`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ –∏ –∑–∞–∫–∞–∑–æ–≤

### 2. **–ï—Å–ª–∏ –Ω–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞**
- –ö–Ω–æ–ø–∫–∞ "Transfer Order" - —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –∏ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ –±—É—Ñ–µ—Ä –∫–æ–º–∞–Ω–¥—ã `nearest_team`
- **–í–∞–∂–Ω–æ**: –∞–¥—Ä–µ—Å –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –≥–æ—Ä–æ–¥ –∏ ZIP –∫–æ–¥ –∏–∑ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–î—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω"
- –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É myOrders
- –¢—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### 3. **–ó–∞–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" - —Å–∫—Ä—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ "X" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

## API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### `showAddressFitNotification(message, nearestTeam, address, orderId?, phoneNumber?)`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `orderId` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π - –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞
- `phoneNumber` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

### `transferOrderToBuffer(orderId, targetTeam, note)`
- –ü–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –≤ –±—É—Ñ–µ—Ä —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

1. **–í–≤–æ–¥ –∞–¥—Ä–µ—Å–∞** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∞–¥—Ä–µ—Å –≤ —Ñ–æ—Ä–º—É
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–µ–∑ API
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - –µ—Å–ª–∏ `fit: false`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
4. **–í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —á—Ç–æ –¥–µ–ª–∞—Ç—å:
   - –ü–µ—Ä–µ–¥–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∑–∞–∫–∞–∑ –≤ –±—É—Ñ–µ—Ä
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞)
   - –ó–∞–∫—Ä—ã—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∞–¥—Ä–µ—Å–æ–º

### **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –¥–ª—è –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥—ã:**
- **–ê–¥—Ä–µ—Å**: –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º (—á—Ç–æ –≤–≤–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- **–ì–æ—Ä–æ–¥**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **ZIP –∫–æ–¥**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ö–æ–º–∞–Ω–¥–∞**: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `nearest_team`
- **–°—Ç–∞—Ç—É—Å**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–î—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω"

### **–ü—Ä–∏–º–µ—Ä:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª: "1601 Elm St, Dallas, TX 75201"
API –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–ª: city: "Dallas", postcode: "75201", team: "A"
–†–µ–∑—É–ª—å—Ç–∞—Ç: –∞–¥—Ä–µ—Å –æ—Å—Ç–∞–µ—Ç—Å—è "1601 Elm St, Dallas, TX 75201", 
          –Ω–æ –≥–æ—Ä–æ–¥ –∏ ZIP –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è, –∫–æ–º–∞–Ω–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "A"
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ **–î–µ–π—Å—Ç–≤–µ–Ω–Ω–æ** - –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –±—É—Ñ–µ—Ä–∞
- ‚úÖ **–£–¥–æ–±–Ω–æ** - –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å
- ‚úÖ **–£–º–Ω–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Debounce**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞
- **–°–æ—Å—Ç–æ—è–Ω–∏—è**: `isTransferring`, `addressFitNotification`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: —Å Zustand store –∏ WebSocket
- **UI**: Tailwind CSS + Lucide React –∏–∫–æ–Ω–∫–∏
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: Next.js router –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ñ–æ—Ä–º–µ
- **–°–±—Ä–æ—Å**: –≥–ª–æ–±—É—Å –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏:
  - –°–±—Ä–æ—Å–µ —Ñ–æ—Ä–º—ã (–∫–Ω–æ–ø–∫–∞ Reset Form)
  - –û—á–∏—Å—Ç–∫–µ –ø–æ–ª—è –∞–¥—Ä–µ—Å–∞
  - –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ CustomerInfo
const addressData = await getCorrectCity(address.trim());

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—Å–ª–∏ fit: false
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é –∏ –º–æ–∂–µ—Ç:
// 1. –ü–µ—Ä–µ–¥–∞—Ç—å –∑–∞–∫–∞–∑ –≤ –±—É—Ñ–µ—Ä –∫–æ–º–∞–Ω–¥—ã nearest_team
// 2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
// 3. –ó–∞–∫—Ä—ã—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```
